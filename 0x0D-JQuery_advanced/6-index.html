<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 6</title>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>

    </head>

    <body>
        <script type="application/javascript">
            function createFamilyTree() {
              $("body").append('<table></table>');
              $('table').append('<thead></thead>');
              $('thead').append('<tr></tr>');
              $('thead tr').append('<th>Firstname</th><th>Lastname</th>');
              $('table').append('<tbody></tbody>');
            
            }

            function addNewMember(firstName, lastName, position) {
              if (position === "before") {
                $("tbody").prepend(`
              <tr>
                <td>${firstName}</td>
                <td>${lastName}</td>
                <td>(x)</td>
              </tr>
              `);
            } else {
              $("tbody").append(`
              <tr>
                <td>${firstName}</td>
                <td>${lastName}</td>
                <td>(x)</td>
              </tr>
              `);
            }
              $("td:nth-child(3)").css("background-color", "orange");
              $("td:nth-child(3)").click(function() {
                $($(this).parent()).remove();
              });
            }  

            function createForm() {
              $("body").prepend('<input type="button" value="Submit">');
              $("body").prepend('<select><option value="before">Before</option><option value="after">After</option></select>');
              $("body").prepend('<input type="text">')
              $("body").prepend('<input type="text">')
              $('input:last').click(function () {
                const firstName = $('input:first').val();
                const lastName = $('input:nth-of-type(2)').val();
                const position = $('select').val();
                addNewMember(firstName, lastName, position);
            })
            }

            createFamilyTree();
            createForm();
        </script>
    </body>

</html>